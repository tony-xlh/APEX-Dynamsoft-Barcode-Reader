prompt --application/set_environment
set define off verify off feedback off
whenever sqlerror exit sql.sqlcode rollback
--------------------------------------------------------------------------------
--
-- Oracle APEX export file
--
-- You should run the script connected to SQL*Plus as the owner (parsing schema)
-- of the application.
--
-- NOTE: Calls to apex_application_install override the defaults below.
--
--------------------------------------------------------------------------------
begin
wwv_flow_imp.import_begin (
 p_version_yyyy_mm_dd=>'2022.10.07'
,p_release=>'22.2.4'
,p_default_workspace_id=>62748104789471116782
,p_default_application_id=>36447
,p_default_id_offset=>0
,p_default_owner=>'WKSP_DYNAMSOFT'
);
end;
/
 
prompt APPLICATION 36447 - Dynamsoft Demos
--
-- Application Export:
--   Application:     36447
--   Name:            Dynamsoft Demos
--   Date and Time:   07:03 Tuesday March 21, 2023
--   Exported By:     TONY@DYNAMSOFT.COM
--   Flashback:       0
--   Export Type:     Component Export
--   Manifest
--     PLUGIN: 64653848611280750625
--   Manifest End
--   Version:         22.2.4
--   Instance ID:     63113759365424
--

begin
  -- replace components
  wwv_flow_imp.g_mode := 'REPLACE';
end;
/
prompt --application/shared_components/plugins/region_type/com_dynamsoft_dbr
begin
wwv_flow_imp_shared.create_plugin(
 p_id=>wwv_flow_imp.id(64653848611280750625)
,p_plugin_type=>'REGION TYPE'
,p_name=>'COM.DYNAMSOFT.DBR'
,p_display_name=>'Barcode Scanner'
,p_javascript_file_urls=>'#PLUGIN_FILES#script.js'
,p_plsql_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'function f_render (',
'    p_region              in apex_plugin.t_region,',
'    p_plugin              in apex_plugin.t_plugin,',
'    p_is_printer_friendly in boolean',
') return apex_plugin.t_region_render_result is',
'begin',
'  apex_javascript.add_onload_code (',
'      p_code => ''(async () => { await DBRExtension.load({'' ||',
'          apex_javascript.add_attribute(p_name => ''license'', p_value => p_region.attribute_02, p_add_comma => false ) ||',
'        ''});',
'        DBRExtension.init({'' ||',
'          apex_javascript.add_attribute(p_name => ''styles'', p_value => p_region.attribute_01, p_add_comma => true ) ||',
'          apex_javascript.add_attribute(p_name => ''item'', p_value => p_region.attribute_03, p_add_comma => true ) ||',
'          apex_javascript.add_attribute(p_name => ''template'', p_value => p_region.attribute_04, p_add_comma => true ) ||',
'          apex_javascript.add_attribute(p_name => ''regionID'', p_value => p_region.static_id, p_add_comma => false ) ||',
'        ''}); })();'',',
'      p_key  => null );',
'  return null;',
'end;'))
,p_api_version=>2
,p_render_function=>'F_RENDER'
,p_substitute_attributes=>true
,p_subscribe_plugin_settings=>true
,p_help_text=>wwv_flow_string.join(wwv_flow_t_varchar2(
'<p>The plugin scans barcodes from the camera using Dynamsoft Barcode Reader.</p>',
'',
'<p>Run the following code to start scanning:</p>',
'',
'<pre>',
'(async () => {',
'  if (DBRExtension.reader) {',
'    await DBRExtension.open(); // open the camera',
'    DBRExtension.startScanning(); // start a loop to read barcodes from camera frames',
'  }else{',
'    alert("The barcode scanner is still initializing.");',
'  }',
'})();',
'</pre>',
'',
'',
'<p>Run the following code to stop scanning:</p>',
'',
'<pre>',
'DBRExtension.stopScanning();',
'DBRExtension.close();',
'</pre>'))
,p_version_identifier=>'1.0'
,p_about_url=>'https://github.com/tony-xlh/APEX-Dynamsoft-Barcode-Reader'
,p_files_version=>7
);
wwv_flow_imp_shared.create_plugin_attribute(
 p_id=>wwv_flow_imp.id(64654129201212759270)
,p_plugin_id=>wwv_flow_imp.id(64653848611280750625)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>1
,p_display_sequence=>10
,p_prompt=>'styles'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_is_translatable=>false
);
wwv_flow_imp_shared.create_plugin_attribute(
 p_id=>wwv_flow_imp.id(64654146079094762952)
,p_plugin_id=>wwv_flow_imp.id(64653848611280750625)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>2
,p_display_sequence=>20
,p_prompt=>'license'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_is_translatable=>false
);
wwv_flow_imp_shared.create_plugin_attribute(
 p_id=>wwv_flow_imp.id(64664846573647975587)
,p_plugin_id=>wwv_flow_imp.id(64653848611280750625)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>3
,p_display_sequence=>30
,p_prompt=>'Barcode result container'
,p_attribute_type=>'PAGE ITEM'
,p_is_required=>false
,p_is_translatable=>false
);
wwv_flow_imp_shared.create_plugin_attribute(
 p_id=>wwv_flow_imp.id(64673576434961140902)
,p_plugin_id=>wwv_flow_imp.id(64653848611280750625)
,p_attribute_scope=>'COMPONENT'
,p_attribute_sequence=>4
,p_display_sequence=>40
,p_prompt=>'template'
,p_attribute_type=>'TEXT'
,p_is_required=>false
,p_is_translatable=>false
);
end;
/
begin
wwv_flow_imp.g_varchar2_table := wwv_flow_imp.empty_varchar2_table;
wwv_flow_imp.g_varchar2_table(1) := '6C657420444252457874656E73696F6E203D207B0D0A20207265616465723A756E646566696E65642C0D0A2020656E68616E6365723A756E646566696E65642C0D0A2020726567696F6E49443A756E646566696E65642C0D0A20206974656D3A756E6465';
wwv_flow_imp.g_varchar2_table(2) := '66696E65642C0D0A2020696E74657276616C3A756E646566696E65642C0D0A202070726F63657373696E673A756E646566696E65642C0D0A2020626172636F6465526573756C74733A756E646566696E65642C0D0A20206F70656E3A206173796E632066';
wwv_flow_imp.g_varchar2_table(3) := '756E6374696F6E28297B0D0A20202020646F63756D656E742E676574456C656D656E74427949642822656E68616E6365725549436F6E7461696E657222292E7374796C652E646973706C6179203D2022223B0D0A20202020617761697420746869732E65';
wwv_flow_imp.g_varchar2_table(4) := '6E68616E6365722E6F70656E2874727565293B0D0A20207D2C0D0A2020636C6F73653A2066756E6374696F6E28297B0D0A20202020746869732E656E68616E6365722E636C6F73652874727565293B0D0A20202020646F63756D656E742E676574456C65';
wwv_flow_imp.g_varchar2_table(5) := '6D656E74427949642822656E68616E6365725549436F6E7461696E657222292E7374796C652E646973706C6179203D20226E6F6E65223B0D0A20207D2C0D0A202073746172745363616E6E696E673A2066756E6374696F6E28297B0D0A20202020746869';
wwv_flow_imp.g_varchar2_table(6) := '732E73746F705363616E6E696E6728293B0D0A202020206C6574207054686973203D20746869733B0D0A20202020636F6E73742063617074757265416E644465636F6465203D206173796E632066756E6374696F6E2829207B0D0A202020202020696620';
wwv_flow_imp.g_varchar2_table(7) := '282170546869732E656E68616E636572207C7C202170546869732E72656164657229207B0D0A202020202020202072657475726E3B0D0A2020202020207D0D0A2020202020206966202870546869732E656E68616E6365722E69734F70656E2829203D3D';
wwv_flow_imp.g_varchar2_table(8) := '3D2066616C736529207B0D0A202020202020202072657475726E3B0D0A2020202020207D0D0A2020202020206966202870546869732E70726F63657373696E67203D3D3D207472756529207B0D0A202020202020202072657475726E3B0D0A2020202020';
wwv_flow_imp.g_varchar2_table(9) := '207D0D0A20202020202070546869732E70726F63657373696E67203D20747275653B202F2F20736574206465636F64696E6720746F207472756520736F207468617420746865206E657874206672616D652077696C6C20626520736B6970706564206966';
wwv_flow_imp.g_varchar2_table(10) := '20746865206465636F64696E6720686173206E6F7420636F6D706C657465642E0D0A2020202020206C6574206672616D65203D2070546869732E656E68616E6365722E6765744672616D6528293B0D0A202020202020696620286672616D6529207B0D0A';
wwv_flow_imp.g_varchar2_table(11) := '20202020202020206C657420726573756C7473203D2061776169742070546869732E7265616465722E6465636F6465286672616D65293B0D0A202020202020202069662028726573756C74732E6C656E677468203E203029207B0D0A2020202020202020';
wwv_flow_imp.g_varchar2_table(12) := '202070546869732E626172636F6465526573756C7473203D20726573756C74733B0D0A202020202020202020206966202827617065782720696E2077696E646F7729207B0D0A2020202020202020202020206966202870546869732E6974656D29207B0D';
wwv_flow_imp.g_varchar2_table(13) := '0A2020202020202020202020202020617065782E6974656D2870546869732E6974656D292E73657456616C756528726573756C74735B305D2E626172636F646554657874293B0D0A2020202020202020202020207D0D0A2020202020202020202020202F';
wwv_flow_imp.g_varchar2_table(14) := '2F6966202870546869732E616A617829207B0D0A2020202020202020202020202F2F2020617065782E7365727665722E70726F63657373282253494E474C455F424152434F44455F5343414E4E4544222C207B7830313A726573756C74735B305D2E6261';
wwv_flow_imp.g_varchar2_table(15) := '72636F6465546578747D2C207B64617461547970653A202274657874222C20737563636573733A2066756E6374696F6E28297B7D7D293B0D0A2020202020202020202020202F2F7D0D0A202020202020202020207D0D0A20202020202020207D0D0A2020';
wwv_flow_imp.g_varchar2_table(16) := '2020202020202F2F636F6E736F6C652E6C6F6728726573756C7473293B0D0A202020202020202070546869732E70726F63657373696E67203D2066616C73653B0D0A2020202020207D0D0A202020207D0D0A20202020746869732E696E74657276616C20';
wwv_flow_imp.g_varchar2_table(17) := '3D20736574496E74657276616C2863617074757265416E644465636F64652C313030293B202F2F2073657420616E20696E74657276616C20746F207265616420626172636F6465730D0A20207D2C0D0A202073746F705363616E6E696E673A2066756E63';
wwv_flow_imp.g_varchar2_table(18) := '74696F6E28297B0D0A2020202069662028746869732E696E74657276616C29207B0D0A202020202020636C656172496E74657276616C28746869732E696E74657276616C293B0D0A202020202020746869732E696E74657276616C203D20756E64656669';
wwv_flow_imp.g_varchar2_table(19) := '6E65643B0D0A202020207D0D0A20202020746869732E70726F63657373696E67203D2066616C73653B0D0A20207D2C0D0A2020696E69743A206173796E632066756E6374696F6E2870436F6E666967297B0D0A20202020746869732E726561646572203D';
wwv_flow_imp.g_varchar2_table(20) := '2061776169742044796E616D736F66742E4442522E426172636F64655363616E6E65722E637265617465496E7374616E636528293B0D0A20202020746869732E656E68616E636572203D2061776169742044796E616D736F66742E4443452E43616D6572';
wwv_flow_imp.g_varchar2_table(21) := '61456E68616E6365722E637265617465496E7374616E636528293B0D0A20202020617761697420746869732E656E68616E6365722E7365745549456C656D656E742844796E616D736F66742E4443452E43616D657261456E68616E6365722E6465666175';
wwv_flow_imp.g_varchar2_table(22) := '6C745549456C656D656E7455524C293B0D0A202020206C657420636F6E7461696E6572203D20646F63756D656E742E637265617465456C656D656E74282264697622293B0D0A20202020636F6E7461696E65722E6964203D2022656E68616E6365725549';
wwv_flow_imp.g_varchar2_table(23) := '436F6E7461696E6572223B0D0A202020206966202827617065782720696E2077696E646F7729207B0D0A202020202020746869732E726567696F6E4944203D2070436F6E6669672E726567696F6E49443B0D0A202020202020746869732E6974656D203D';
wwv_flow_imp.g_varchar2_table(24) := '2070436F6E6669672E6974656D3B0D0A202020202020636F6E737420726567696F6E203D20646F63756D656E742E676574456C656D656E744279496428746869732E726567696F6E4944293B0D0A202020202020726567696F6E2E617070656E64436869';
wwv_flow_imp.g_varchar2_table(25) := '6C6428636F6E7461696E6572293B0D0A202020207D656C73657B0D0A202020202020646F63756D656E742E626F64792E617070656E644368696C6428636F6E7461696E6572293B0D0A202020207D0D0A202020206966202870436F6E6669672E7374796C';
wwv_flow_imp.g_varchar2_table(26) := '657329207B0D0A2020202020206C6574207374796C6573203D204A534F4E2E70617273652870436F6E6669672E7374796C6573293B202F2F7B77696474683A2231303025227D20652E672E0D0A202020202020666F722028636F6E7374206B657920696E';
wwv_flow_imp.g_varchar2_table(27) := '207374796C657329207B0D0A2020202020202020636F6E7461696E65722E7374796C655B6B65795D203D207374796C65735B6B65795D3B0D0A2020202020207D0D0A202020207D0D0A202020206966202870436F6E6669672E74656D706C61746529207B';
wwv_flow_imp.g_varchar2_table(28) := '0D0A202020202020617761697420746869732E7265616465722E696E697452756E74696D6553657474696E677357697468537472696E672870436F6E6669672E74656D706C617465293B0D0A202020207D0D0A20202020746869732E656E68616E636572';
wwv_flow_imp.g_varchar2_table(29) := '2E6F6E2822706C61796564222C2028706C617943616C6C6261636B496E666F29203D3E207B0D0A20202020202069662028746869732E696E74657276616C29207B0D0A2020202020202020746869732E73746172745363616E6E696E6728293B0D0A2020';
wwv_flow_imp.g_varchar2_table(30) := '202020207D0D0A202020207D293B0D0A20202020636F6E7461696E65722E617070656E644368696C6428746869732E656E68616E6365722E6765745549456C656D656E742829293B0D0A202020202F2F2054686520666F6C6C6F77696E67206C696E6520';
wwv_flow_imp.g_varchar2_table(31) := '68696465732074686520636C6F736520627574746F6E0D0A20202020646F63756D656E742E676574456C656D656E74734279436C6173734E616D6528226463652D62746E2D636C6F736522295B305D2E7374796C652E646973706C6179203D20226E6F6E';
wwv_flow_imp.g_varchar2_table(32) := '65223B0D0A20202020636F6E7461696E65722E7374796C652E646973706C6179203D20226E6F6E65223B0D0A202020206966202827617065782720696E2077696E646F7729207B0D0A202020202020617065782E726567696F6E2E637265617465280D0A';
wwv_flow_imp.g_varchar2_table(33) := '202020202020202070436F6E6669672E726567696F6E49442C0D0A20202020202020207B202020202020202020202020202020200D0A20202020202020202020747970653A202744796E616D736F667420426172636F646520526561646572272C0D0A20';
wwv_flow_imp.g_varchar2_table(34) := '2020202020202020206F70656E3A206173796E632066756E6374696F6E28297B0D0A202020202020202020202020617761697420444252457874656E73696F6E2E6F70656E28293B0D0A202020202020202020207D2C0D0A20202020202020202020636C';
wwv_flow_imp.g_varchar2_table(35) := '6F73653A2066756E6374696F6E28297B0D0A202020202020202020202020444252457874656E73696F6E2E636C6F736528293B0D0A202020202020202020207D2C0D0A2020202020202020202073746172745363616E6E696E673A2066756E6374696F6E';
wwv_flow_imp.g_varchar2_table(36) := '2829207B0D0A202020202020202020202020444252457874656E73696F6E2E73746172745363616E6E696E6728293B0D0A202020202020202020207D2C0D0A2020202020202020202073746F705363616E6E696E673A2066756E6374696F6E2829207B0D';
wwv_flow_imp.g_varchar2_table(37) := '0A202020202020202020202020444252457874656E73696F6E2E73746F705363616E6E696E6728293B0D0A202020202020202020207D2C0D0A20202020202020202020676574526573756C74733A2066756E6374696F6E28297B0D0A2020202020202020';
wwv_flow_imp.g_varchar2_table(38) := '2020202072657475726E20444252457874656E73696F6E2E676574526573756C747328293B0D0A202020202020202020207D0D0A20202020202020207D0D0A202020202020293B0D0A202020207D0D0A20207D2C0D0A2020676574526573756C74733A20';
wwv_flow_imp.g_varchar2_table(39) := '66756E6374696F6E2829207B0D0A2020202072657475726E20746869732E626172636F6465526573756C74733B0D0A20207D2C0D0A20206C6F61643A206173796E632066756E6374696F6E2870436F6E666967297B0D0A20202020617761697420746869';
wwv_flow_imp.g_varchar2_table(40) := '732E6C6F61644C696272617279282268747470733A2F2F63646E2E6A7364656C6976722E6E65742F6E706D2F64796E616D736F66742D6A6176617363726970742D626172636F646540392E362E31312F646973742F6462722E6A73222C22746578742F6A';
wwv_flow_imp.g_varchar2_table(41) := '61766173637269707422293B0D0A20202020617761697420746869732E6C6F61644C696272617279282268747470733A2F2F63646E2E6A7364656C6976722E6E65742F6E706D2F64796E616D736F66742D63616D6572612D656E68616E63657240332E33';
wwv_flow_imp.g_varchar2_table(42) := '2E312F646973742F6463652E6A73222C22746578742F6A61766173637269707422293B0D0A202020206966202870436F6E6669672E6C6963656E736529207B0D0A20202020202044796E616D736F66742E4442522E426172636F64655363616E6E65722E';
wwv_flow_imp.g_varchar2_table(43) := '6C6963656E7365203D2070436F6E6669672E6C6963656E73653B0D0A202020207D656C73657B0D0A20202020202044796E616D736F66742E4442522E426172636F64655363616E6E65722E6C6963656E7365203D2022444C533265794A6F5957356B6332';
wwv_flow_imp.g_varchar2_table(44) := '6868613256446232526C496A6F694D6A41774D4441784C5445324E446B344D6A6B334F5449324D7A55694C434A76636D6468626D6C36595852706232354A52434936496A49774D4441774D534973496E4E6C63334E706232355159584E7A643239795A43';
wwv_flow_imp.g_varchar2_table(45) := '4936496E645463475236566D303557444A726345513559556F6966513D3D223B0D0A202020207D0D0A20207D2C0D0A20206C6F61644C6962726172793A2066756E6374696F6E20287372632C747970652C69642C64617461297B0D0A2020202072657475';
wwv_flow_imp.g_varchar2_table(46) := '726E206E65772050726F6D6973652866756E6374696F6E20287265736F6C76652C2072656A65637429207B0D0A2020202020206C657420736372697074456C65203D20646F63756D656E742E637265617465456C656D656E74282273637269707422293B';
wwv_flow_imp.g_varchar2_table(47) := '0D0A202020202020736372697074456C652E736574417474726962757465282274797065222C2074797065293B0D0A202020202020736372697074456C652E7365744174747269627574652822737263222C20737263293B0D0A20202020202069662028';
wwv_flow_imp.g_varchar2_table(48) := '696429207B0D0A2020202020202020736372697074456C652E6964203D2069643B0D0A2020202020207D0D0A202020202020696620286461746129207B0D0A2020202020202020666F7220286C6574206B657920696E206461746129207B0D0A20202020';
wwv_flow_imp.g_varchar2_table(49) := '202020202020736372697074456C652E736574417474726962757465286B65792C20646174615B6B65795D293B0D0A20202020202020207D0D0A2020202020207D0D0A202020202020646F63756D656E742E626F64792E617070656E644368696C642873';
wwv_flow_imp.g_varchar2_table(50) := '6372697074456C65293B0D0A202020202020736372697074456C652E6164644576656E744C697374656E657228226C6F6164222C202829203D3E207B0D0A2020202020202020636F6E736F6C652E6C6F67287372632B22206C6F6164656422290D0A2020';
wwv_flow_imp.g_varchar2_table(51) := '2020202020207265736F6C76652874727565293B0D0A2020202020207D293B0D0A202020202020736372697074456C652E6164644576656E744C697374656E657228226572726F72222C2028657629203D3E207B0D0A2020202020202020636F6E736F6C';
wwv_flow_imp.g_varchar2_table(52) := '652E6C6F6728224572726F72206F6E206C6F6164696E6720222B7372632C206576293B0D0A202020202020202072656A656374286576293B0D0A2020202020207D293B0D0A202020207D293B0D0A20207D2C0D0A20206C6F61645374796C653A2066756E';
wwv_flow_imp.g_varchar2_table(53) := '6374696F6E202875726C29207B0D0A2020202072657475726E206E65772050726F6D6973652866756E6374696F6E20287265736F6C76652C2072656A65637429207B0D0A2020202020206C6574206C696E6B456C65203D20646F63756D656E742E637265';
wwv_flow_imp.g_varchar2_table(54) := '617465456C656D656E7428276C696E6B27290D0A2020202020206C696E6B456C652E74797065203D2027746578742F637373270D0A2020202020206C696E6B456C652E72656C203D20277374796C657368656574270D0A2020202020206C696E6B456C65';
wwv_flow_imp.g_varchar2_table(55) := '2E68726566203D2075726C0D0A2020202020206C65742068656164203D20646F63756D656E742E676574456C656D656E747342795461674E616D6528276865616427295B305D0D0A202020202020686561642E617070656E644368696C64286C696E6B45';
wwv_flow_imp.g_varchar2_table(56) := '6C65290D0A2020202020206C696E6B456C652E6164644576656E744C697374656E657228226C6F6164222C202829203D3E207B0D0A2020202020202020636F6E736F6C652E6C6F672875726C2B22206C6F6164656422290D0A2020202020202020726573';
wwv_flow_imp.g_varchar2_table(57) := '6F6C76652874727565293B0D0A2020202020207D293B0D0A2020202020206C696E6B456C652E6164644576656E744C697374656E657228226572726F72222C2028657629203D3E207B0D0A2020202020202020636F6E736F6C652E6C6F6728224572726F';
wwv_flow_imp.g_varchar2_table(58) := '72206F6E206C6F6164696E6720222B75726C2C206576293B0D0A202020202020202072656A656374286576293B0D0A2020202020207D293B0D0A202020207D293B0D0A20207D0D0A7D0D0A';
null;
end;
/
begin
wwv_flow_imp_shared.create_plugin_file(
 p_id=>wwv_flow_imp.id(64672579181927640672)
,p_plugin_id=>wwv_flow_imp.id(64653848611280750625)
,p_file_name=>'script.js'
,p_mime_type=>'text/javascript'
,p_file_charset=>'utf-8'
,p_file_content=>wwv_flow_imp.varchar2_to_blob(wwv_flow_imp.g_varchar2_table)
);
end;
/
prompt --application/end_environment
begin
wwv_flow_imp.import_end(p_auto_install_sup_obj => nvl(wwv_flow_application_install.get_auto_install_sup_obj, false));
commit;
end;
/
set verify on feedback on define on
prompt  ...done
